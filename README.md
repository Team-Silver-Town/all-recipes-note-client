# 프로젝트 설명

## 프로젝트명

- 모두의 조리 노트
- [배포 URL](https://all-recipes-note-client.vercel.app/)

## 팀 구성원

- 남원일(apotatos11dev@gmail.com) / 바닐라 코딩 12기
- 박세진(sp863429@gmail.com) / 바닐라 코딩 12기

## 프로젝트 진행 기간

- 2022.05.30 ~ 2022.06.17 (19 days)

## 설치

```sh
npm install
npm start
// environment variables not included
```

## 앱 소개

### 제작 동기

평소에 집에서 요리를 즐겨하는 편입니다. 원하는 메뉴를 조리할때마다 유튜브에 올라와 있는 해당 메뉴와 관련된 다양한 레시피 영상을 참고하는 편입니다. 누구나 유튜브를 통해 엄청난 수의 특정 메뉴에 대한 조리 영상을 쉽게 열람할 수 있습니다. 허나 요리를 위해 특정 메뉴의 영상을 선택하게 되면 단순히 영상을 열람하는 것에 그치지 않고 다른 부가 기능들을 필요로 하게 됩니다.

실제 상황은 이렇습니다. 먼저 조리를 시작하기 전에 재료와 조리법에 대해 따로 적습니다. 조리 영상 시청중에는 요리 과정 중에 중요한 부분들을 노트에 따로 적습니다. 요리를 마치게 되면 해당 요리를 먹고나서 그에 대한 평가와 보완점을 추가로 노트에 적게 됩니다. 이를 통해 다음 번에 다시 해당 영상을 참고 할지를 정하게 됩니다. 실사용에서 느껴진 아쉬운 점을 바탕으로 유튜브 요리영상을 활용하는 경우 단순 시청 외에 여러 편의 기능들이 제공되면 참 좋겠다는 생각을 평소에 많이 하게 되었습니다.

사용자의 아쉬운 점을 고려하여 ‘모두의 조리 노트’ 프로젝트를 통해 다음과 같은 편리함을 제공합니다.

- 영상 시청을 하면서 손쉽게 재료와 레시피를 정리할 수 있습니다.
- 해당 레시피 영상에 대한 후기와 노하우를 적을 수 있습니다.
- 각 개인이 작성한 데이터를 다른 사용자와 공유할 수 있습니다.
- 다수의 기록이 모여 방대한 레시피 영상에서 보다 유용한 레시피 영상을 선별할 수 있게 됩니다.
- 자신만의 요리 노트 콜렉션을 만들 수 있습니다.

### 페이지 소개

- **‘/’** - 초기 화면 페이지, 앱에 대한 간단한 소개 페이지
- **‘/login’** - 로그인 페이지, firebase를 활용한 Google Login
- **‘/recipes’** - 신규 레시피 영상 추가하기, 다양한 레시피 영상 무작위로 보여주기
- **‘/profile’** - 해당 앱에 사용하는 별명 변경하기
- **‘my-recipes’** - 내가 작성한 노트가 있는 레시피 영상 모음
- **‘/rankings’** - 카테고리, 요리, 노트, 꿀팁별 인기 노트 정리
- ‘**/recipes/:recipe_id’** - 특정 레시피 영상에 대한 상세 페이지, 해당 영상에 대한 노트와 꿀팁을 열람할 수 있다.

## 기술 스택

### Frontend

- React
- React-Router-Dom
- React Query
- Firebase
- Styled-Component
- Web Speech API
- Youtube API

### Backend

- Node.js + Express
- MongoDB + MongoDB Atlas
- Mongoose
- Firebase

### 그외

- AWS Elastic Beanstalk
- ESLint + Prettier + Husky

### **Task Tool**

- Mockup : Figma
  - [Mockup 진행 기록](https://www.figma.com/file/6DWAbo2j4z8FpoK6pZVicw/RecipeNote?node-id=0%3A1)
- DB Modeling: Lucidchart
  - [DB Modeling 진행 기록](https://lucid.app/lucidchart/2ad6c7c6-2e8a-4001-8830-4f82de5dad54/edit?viewport_loc=16%2C-9%2C2219%2C1183%2C0_0&invitationId=inv_e163582a-f3b2-485b-b0b1-20504e771523#)
- 기획 및 프로젝트 진행 Kanban: Notion

## 앱의 주요 특징 / Features

### 보이스 컨트롤(Voice Control)(세진))

**주요 내용**

- 앱의 주요 기능들은 Web Speech API를 사용하여 구현된 보이스 컨트롤 기능으로 작동이 가능합니다.
  - 페이지 Navigation, 특정 메뉴 외 원하는 랭킹 카테고리 표시, 등록된 레시피 페이지의 영상 제어, 노트와 재료 읽어주기, 재료 추가, 노트 저장 삭제 및 비/공개 처리
- 보이스 컨트롤 상세 명령어는 아래 아이콘을 클릭하여 확인 할 수 있습니다.

**의견 / 소감**

- Web Speech API의 SpeechRecognition 인터페이스를 custom hook 으로 제작하여 SpeechRecognition Event에서 가지고 올 수 있는 음성 인식이 된 텍스트를 React 의 하나의 상태로 관리를 했습니다. 사용자가 말을 할때마다 인식되어 input이 들어오고 있는 음성 텍스트 중 지정해 놓은 키워드가 인식이 되었을 시에는 앱의 특정 기능을 수행 하도록 했습니다.
- 보이스 컨트롤의 구현을 시작할때 가장 고민을 했었던 부분은 사용자의 음성 컨트롤 편리성을 고려하는 동시에 정확한 명령어를 앱이 인식 할 수 있도록 하는것이었습니다. 조사를 하던 중 시중에 출시 된 음성 인식 기계들의 공통점을 파악 할 수 있었는데 음성 인식 Tool들은 모두 실시간 음성 input을 듣는과 동시에 Siri, Alexa, Google, Clova 와 같은 애칭이 있었고 애칭을 부르고 뒤따르는 voice input이 어떠한 기능을 수행하도록 하는 명령어라는 점이었습니다.
- 음성 인식은 실시간 되고 있지만 애칭을 부르는것이 일종의 cue 역할을 함과 동시에 정확한 명령을 위한 디딤돌 역할을 한다는 것 같아서 Web Speech API의 옵션 설정 및 보이스 컨트롤 custom hook 제작을 비슷한 flow 로 진행 될 수 있도록 구현했습니다.

### 레시피 상세 페이지(Recipe Detail Page)(세진)

**주요 내용**

- 등록된 유투브 레시피에 대한 영상을 시청하고 자유롭게 개인 노트를 작성 할 수 있습니다.
- 다른 사람들의 노트를 보고 좋아요와 안좋아요를 누를 수 있으며 해당 레시피에 자신만의 꿀팁을 남길 수 있습니다.

**의견 / 소감**

- 레시피 상세 페이지에서는 크게 노트 목록, 꿀팁, 나의 노트 → 이렇게 3가지의 정보를 확인 및 수정 할 수 있는데 다양한 정보를 한페이지에 동시에 보여주기 위해서 React component 구조가 좀 복잡해져 버린 면이 있는 것 같습니다.
- sub-domain 을 사용한다던지 컴포넌트들의 재사용성을 높여 코드와 component 구조를 좀 더 깔끔하게 정리하는 시도가 필요할것 같습니다.

### 웹 접근성(Web Accessibility)(원일)

**주요 내용**

- [THE A11Y PROJECT의 체크리스트](https://www.a11yproject.com/checklist/)를 기반으로 앱을 만들었습니다.
  - 해당 체크리스트의 요구사항을 준수하며 코드를 작성 하였습니다.
    - 예를 들어 탭 키를 이용해 모두 항목을 이동할 수 있습니다.
    - VoiceOver를 이용하여 페이지를 이동할 수 있습니다.
    - 체크리스트에서 요구하는 Semantic한 페이지의 조건을 최대한 충족시켰습니다.

**의견 / 소감**

- 웹 페이지 Semantic한 구성은 SEO(Search Engine Optimization)의 조기 달성 뿐만 아니라 웹 접근성의 달성에도 큰 영향을 준다는 것을 알게 되었습니다.
- 웹 접근성에 대한 고민을 통해 누구나 사용할 수 있는 기술에 대한 진정한 의미를 환기시킬 수 있었다.

### 랭킹 시스템(Ranking System)(원일)

**주요 내용**

- MongoDB에 등록된 레시피 영상의 데이터를 기반으로 순위를 도출합니다.
- 풀스택 개발인 점을 고려하여 랭킹을 도출하는 작업이 가능하면 백엔드에서 이뤄지게 하였습니다.
  - 이를 통해 랭킹 도출을 위한 연산 시간을 줄이고 랭킹 도출을 위해 서버와 클라이언트간에 불필요하게 전달하는 데이터 양을 최소화 하고자 하였습니다.
- 랭킹 결과를 도출하는 작업은 MongoDB의 Aggregation Pipeline을 활용 하였습니다.
  - 작업의 효율성을 위해 파이프라인의 시퀀스 최적화를 고민하였습니다.

**의견 / 소감**

- 랭킹 결과를 도출하는 작업을 하게 되면서 작업의 시작 단계에서 짜여진 DB의 스키마 구조가 Aggregation작업의 가능 여부와 범위를 제한한다는 사실을 알게 되었습니다.
  - 이러한 문제로 인해 일부 순위는 불가피하게 모든 데이터를 클라이언트에 전달하고 클라이언트에서 결과를 도출하는 방식을 사용 했습니다.
  - 스키마 구조의 한계로 인해 불가피하게 Nested Popluate를 수행하였습니다.
    - 참고로 Populate 함수는 쉽게 참조 데이터를 해당 데이터에 주입할 수 있습니다.
    - 허나 결과를 병합하기 위해 추가적인 쿼리를 수행하게 되는 단점이 있습니다.
    - 원하는 데이터를 얻기 위해 nested populate가 된다면 작업의 시간복잡도가 급격하게 증가하는 문제가 있습니다.
- 개발 작업에 있어서 원칙과 실용의 적절한 타협점을 선택하는 것이 중요하다는 것을 이해할 수 있는 좋은 경험이었습니다.

## 프로젝트 소감

### 원일

처음으로 하는 개발 협업 프로젝트였습니다. 주어진 시간과 인원 조건 안에서 잘 돌아가는 페이지를 배포 완료 하는 것에 주안점을 두어 작업하였습니다. 프로젝트를 통해 프로그램 외적으로 느끼는 개인적인 소감은 두가지 입니다.

첫번째는 마감 기한을 지키려다보니 신기술 사용에 소홀해진 점이 아쉬웠습니다. 프로젝트를 진행함에 있어 새로 적용해 볼 기술로 리액트 쿼리를 사용하기로 팀이 합의 하였습니다. 그러나 개인적으로 시간안에 프로젝트를 마치는 것을 위해 신기술을 학습하고 도입하는 것에 시간을 투자 하는 것이 부족했습니다. 결과적으로 리액트 쿼리를 충분히 활용해보지 못한 점이 아쉬움으로 남습니다. 개인 프로젝트에는 새로운 기술 사용에 좀 더 적극적일 필요가 있을것 같습니다.

두번째 소감은 팀의 생산성을 극대화하는 규칙의 필요성을 느꼈습니다. 프로젝트 시작전 팀 규칙을 설정 하라는 가이드라인이 있었습니다. 허나 당시에는 그 부분에 대한 이유를 잘 공감하지 못해서 규칙없이 자유로운 분위기에서 작업을 진행하였습니다. 프로젝트를 돌이켜보건대 2인팀의 특성을 살려서 더욱 빠른 개발 - PR- 리뷰 - Merge의 흐름을 가져갈 수 있었다고 생각됩니다. 허나 작업 스타일과 시간대가 다른점이 오히려 서로의 작업 효율을 늦췄다고 생각 됩니다. 이번 경험을 통해 팀 생산성을 높이려면 규칙을 설정하고 협동하는 것이 중요하다고 느꼈습니다.

### 세진

첫 팀 협업 프로젝트다 보니 어려운 점들이 많았던것 같습니다. 하지만 같이 일하면서 팀원의 코딩 스타일이나 제가 몰랐던 지식에 대해서도 배우고 협업을 통해 혼자 할때보다도 조금 더 스케일이 있는 프로젝트를 시도 할 수 있었다는 점이 유익하면서도 재미가 있었던 것 같습니다.

Git을 통한 협업

팀 프로젝트를 통해서 개발자에게 communication 및 협업 능력이 왜 중요한지 배울 수 있었던 계기가 되었던 것 같습니다. 개발을 시작하기 전 git commit message 의 규칙을 어떻게 할 것인지, 어떤 단어를 사용하여 자신의 업무를 git 기록에 표현 할 것인지, pull request는 얼마나 상세해야되고 팀원 코드의 리뷰 및 approve 절차, 방식 모두 조사하고 사전 논의를 했습니다. 이렇게 현업에서는 개발자들이 어떻게 협업 하는지에 대해서 고민한 후 최대한 같은 방식으로 업무를 진행하려고 노력했습니다. 자신의 PR에 대한 피드백이 오고 가고 하는 과정에서 서로의 코드에 대해 토론하고 개선점 또는 타협점이 무엇인가에 대해서 협의 할 수 있었고 개발자에게 soft skill 또한 매우 중요하다는 것을 깨닫게 되었습니다. 처음 하는 협업인 만큼 협업 과정에 의한 시간 지체도 걱정이 되었고 코드에 있어 토론이 필요하다면 서로의 관점을 이해하는 과정도 어렵고 작업 효율에 있어 부족한 점도 있었던 것 같습니다. 하지만 또 협업이 있었기에 짧은 시간내에 혼자만의 역량 이상으로 프로젝트를 진행 할 수 있었다고 생각하고 협업 과정 속에서 communication 이라는 개발자의 또 다른 중요한 능력을 체험하고 배울 수 있었습니다.

SQL vs NoSQL

프로젝트 기획 시 DB 선정에 있어 MongoDB 를 학습했기 때문에 큰 고민 없이 MongoDB로만 DB 선택을 했었습니다. 하지만 프로젝트 특성 상 데이터 모델간의 관계가 중요하고 관계를 맺고 있는 데이터가 자주 변경 될 수있는 점을 고려했을때 관계형 DB (RDBMS)인 SQL이 더 적합하지 않았나라는 의문이 생겼었습니다.

NoSQL의 한종류인 MongoDB는 Document Store 방식을 사용한다고 알고있는데, 프로젝트의 Schema Model은 구조가 predefined 되어있고 Schema 끼리의 관계가 중요하면서도 dynamic 하고 unstructured 된 데이터를 다루지 않기 때문에 관계형 DB가 적합하다고 느꼈습니다. 하지만 NoSQL의 유연성이라던지 많은 양의 데이터를 읽어 오는 속도, horizontal scaling의 잠점을 고려했을때는 Schema Design 부터 좀 더 NoSQL에 맞는 방식으로 했으면 어땠을까라는 아쉬움이 있습니다.

# 이용 방법

## 레시피 영상 등록

- 원하는 유튜브 영상을 등록합니다.
- 등록하면 해당 레시피의 상세 페이지로 진입하게 됩니다.
<img src="https://user-images.githubusercontent.com/78262571/181179198-e096a575-4d05-48ee-97f8-3268e2edd8c5.gif">

## 레시피 노트 작성

- 내 노트 버튼을 누릅니다.
- 해당 노트 항목에 필요한 내용을 적습니다. 작성이 끝나면 저장 버튼을 누릅니다.
- 레시피에 대한 재료를 재료등록 버튼을 눌러 등록합니다.
<img src="https://user-images.githubusercontent.com/78262571/181179739-8dbf3738-8b27-45a2-8f52-e2071417f3da.gif">


## 꿀팁 작성

- 꿀팁 버튼을 누릅니다.
- 요리와 관련된 간단한 의견이나 노하우를 적습니다.
- 등록 버튼을 눌러 꿀팁을 등록합니다.
<img src="https://user-images.githubusercontent.com/78262571/181180032-382a6422-6732-485d-ba3f-df3b2e03c2bc.gif">


## 보이스 컨트롤

- “시리야"라고 말하면 보이스 컨트롤을 시작합니다.
- 사용 예시
  - 레시피 상세페이지 화면에서 시리야라고 말하면 음성인식이 시작됩니다.
  - 음성인식이 시작된 상황에서 ‘영상 시작’이라고 말하면 주어진 동영상의 재생을 시작합니다.
  - 자세한 이용방법은 음성 컨트롤 가이드를 통해 내용을 확인할 수 있습니다.
<img src="https://user-images.githubusercontent.com/78262571/181180286-9d71894c-8d80-4840-a353-cda4c7c33bae.gif">


## 다크 모드

- 사용자의 이용 환경에 따라 다크 모드를 선택할 수 있습니다.
<img src="https://user-images.githubusercontent.com/78262571/181181338-965f7a1e-2684-4bb5-9864-910a53429fa6.gif">

